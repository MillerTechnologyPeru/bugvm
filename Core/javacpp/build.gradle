archivesBaseName = "bugvm-javacpp"
description = """The bridge between BugVM and native libraries"""

dependencies {
    compile "org.apache.maven:maven-plugin-api:3.3.3"
    compile "org.apache.maven.plugin-tools:maven-plugin-annotations:3.4"
    compile "org.apache.maven:maven-core:3.0"
    compile "org.slf4j:slf4j-simple:1.7.25"
    compile "org.slf4j:slf4j-api:1.7.25"
    testCompile "junit:junit:4.12"
}

jar {
    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
    exclude "META-INF/*.RSA", "META-INF/*.SF","META-INF/*.DSA","META-INF/maven/**"
    manifest {
        attributes "Main-Class": "com.bugvm.compiler.AppCompiler"
        attributes "Implementation-Version" : project.version
    }
}

modifyPom {
    project {
        name project.archivesBaseName
        description project.description
        licenses {
            license {
                name "Apache License, Version 2.0"
                url "http://www.apache.org/licenses/LICENSE-2.0"
                distribution "repo"
            }
            license {
                name "GNU General Public License (GPL) version 2, or any later version"
                url "http://www.gnu.org/licenses/"
                distribution "repo"
            }
            license {
                name "GPLv2 with Classpath exception"
                url "http://www.gnu.org/software/classpath/license.html"
                distribution "repo"
            }
        }
    }
}